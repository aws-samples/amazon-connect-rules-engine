{
  "Version": "2019-10-30",
  "StartAction": "b1f189b3-b138-4cc1-9698-3a4226df878b",
  "Metadata": {
    "entryPointPosition": {
      "x": 15,
      "y": 123
    },
    "snapToGrid": false,
    "ActionMetadata": {
      "a9166b13-a49c-4705-96f9-7baa66261fe4": {
        "position": {
          "x": 541,
          "y": 190
        },
        "useDynamic": true
      },
      "aa494261-d5f8-4cbb-b049-9ef30a79eb87": {
        "position": {
          "x": 537,
          "y": 385
        },
        "useDynamic": true
      },
      "3998f9c7-92ac-4b20-a524-d0b6e71c4a91": {
        "position": {
          "x": 543,
          "y": 15
        },
        "useDynamic": true
      },
      "46677a44-efb2-48c1-b0de-b82264dd971b": {
        "position": {
          "x": 870,
          "y": 195
        },
        "conditionMetadata": [],
        "useDynamic": false,
        "dynamicMetadata": {
          "x-amz-lex:audio:end-timeout-ms:*": false,
          "x-amz-lex:audio:start-timeout-ms:*": false
        },
        "useLexBotDropdown": false,
        "useDynamicLexBotArn": true
      },
      "6bd4703f-c553-4f1c-b8e8-3c83658c44ca": {
        "position": {
          "x": 1833,
          "y": 258
        },
        "conditionMetadata": [
          {
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "text",
            "id": "bd0fe8d1-ca8f-4c3a-97d7-30ca22e23b82"
          },
          {
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "ssml",
            "id": "e8c29505-763a-4b12-ab9d-ba06925d9b90"
          },
          {
            "id": "7bb341e7-d59d-4c9d-93b7-7c19c2fe2f15",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "prompt"
          }
        ]
      },
      "d336e0f6-fc46-432a-aaef-ad4b49f05f97": {
        "position": {
          "x": 2158,
          "y": 157
        },
        "useDynamic": true
      },
      "9d619ea2-cf88-494d-b877-ae4b121d67e8": {
        "position": {
          "x": 2158,
          "y": 349
        },
        "useDynamic": true
      },
      "cb2bc8de-55d8-42df-b0b1-146775db2288": {
        "position": {
          "x": 2158,
          "y": 556
        },
        "useDynamic": true
      },
      "170e37bd-6ca2-48ea-8abe-07b689a142dd": {
        "position": {
          "x": 2734,
          "y": 499
        }
      },
      "98fef1c2-8869-4c9e-a914-f594ee974d80": {
        "position": {
          "x": 2465,
          "y": 415
        },
        "conditionMetadata": [
          {
            "id": "e3a3a830-ec32-4e95-a780-5899fceda5ad",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "true"
          }
        ]
      },
      "ca7e8bcf-5d5b-48fc-aff8-6c4da5d39bb7": {
        "position": {
          "x": 2729,
          "y": 710
        },
        "conditionMetadata": [
          {
            "id": "6118b1e3-572d-4c05-942c-951dd9d5f661",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "true"
          }
        ]
      },
      "47d9b95e-1a5a-4f5e-90d0-ec9d64b36ca2": {
        "position": {
          "x": 3035,
          "y": 775
        },
        "useDynamic": false,
        "ContactFlow": {
          "id": "{{contactFlows.RulesEngineMain.arn}}",
          "text": "RulesEngineMain"
        }
      },
      "23d7065d-8800-4cb0-9a23-01d78ec07d60": {
        "position": {
          "x": 3362,
          "y": 838
        },
        "useDynamic": false,
        "ContactFlow": {
          "id": "{{contactFlows.RulesEngineError.arn}}",
          "text": "RulesEngineError"
        }
      },
      "bd579c28-84a0-4c57-96d6-8f84269a675f": {
        "position": {
          "x": 3645,
          "y": 928
        }
      },
      "5b9d2e54-d6c4-4b1c-8e56-4793463690a0": {
        "position": {
          "x": 1157,
          "y": 323
        },
        "dynamicMetadata": {
          "matchedIntent": false
        },
        "useDynamic": false
      },
      "1da46932-c28d-4c63-a420-69c8d13cfe92": {
        "position": {
          "x": 1153,
          "y": 48
        },
        "dynamicMetadata": {
          "matchedIntent": true,
          "intentConfidence": true
        },
        "useDynamic": false
      },
      "51760e39-09ec-427d-bc4c-be6972a21433": {
        "position": {
          "x": 1473,
          "y": 613
        },
        "useDynamic": false,
        "ContactFlow": {
          "id": "{{contactFlows.RulesEngineError.arn}}",
          "text": "RulesEngineError"
        }
      },
      "3ea180fb-b40a-4968-bb71-787b7bf9bf6f": {
        "position": {
          "x": 1778,
          "y": 702
        }
      },
      "6e185ad4-af56-4267-8b21-1f90f35c3dda": {
        "position": {
          "x": 1541,
          "y": 231
        },
        "conditionMetadata": [
          {
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "false",
            "id": "81862caf-951d-4d2d-b29a-411b5046bd12"
          }
        ]
      },
      "c677b244-a7c6-4705-b0d1-737790fa9c3b": {
        "position": {
          "x": 2049.986572265625,
          "y": 899.875
        },
        "useDynamic": true
      },
      "108bec88-2e27-4691-a64b-ece9696c70d4": {
        "position": {
          "x": 2057.59033203125,
          "y": 1200.9857177734375
        },
        "useDynamic": true
      },
      "854aff21-0344-45e3-b9e5-d03af3a2ec3e": {
        "position": {
          "x": 1760,
          "y": 1007
        },
        "conditionMetadata": [
          {
            "id": "fc9a8458-80f2-4f32-a59a-3a5df3cbe41e",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "text"
          },
          {
            "id": "125c919b-77ad-479d-a0e3-c6213d52c80a",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "ssml"
          }
        ]
      },
      "3863d146-354c-4046-bfe5-d883f2ae282a": {
        "position": {
          "x": 2725,
          "y": 1466
        },
        "useDynamic": false,
        "ContactFlow": {
          "id": "{{contactFlows.RulesEngineMain.arn}}",
          "text": "RulesEngineMain"
        }
      },
      "d8607387-0f89-4150-9781-5f68096e73f6": {
        "position": {
          "x": 3008,
          "y": 1539
        },
        "useDynamic": false,
        "ContactFlow": {
          "id": "{{contactFlows.RulesEngineError.arn}}",
          "text": "RulesEngineError"
        }
      },
      "7b777776-a8ea-4160-be98-871e38789663": {
        "position": {
          "x": 3273,
          "y": 1626
        }
      },
      "bd08e6a0-e8fc-462b-a5a5-4c3813169ad4": {
        "position": {
          "x": 4113,
          "y": 1539
        }
      },
      "4c59a722-d301-49c5-8c4d-2f9fc4b9558d": {
        "position": {
          "x": 3483,
          "y": 1134
        },
        "useDynamic": false,
        "ContactFlow": {
          "id": "{{contactFlows.RulesEngineMain.arn}}",
          "text": "RulesEngineMain"
        }
      },
      "96d74cf8-be0a-4c0d-ae90-94146f184640": {
        "position": {
          "x": 3760,
          "y": 1397
        },
        "useDynamic": false,
        "ContactFlow": {
          "id": "{{contactFlows.RulesEngineError.arn}}",
          "text": "RulesEngineError"
        }
      },
      "b1f189b3-b138-4cc1-9698-3a4226df878b": {
        "position": {
          "x": 271,
          "y": 109
        },
        "conditionMetadata": [
          {
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "text",
            "id": "c939484a-3594-40a9-9429-56df7fec8551"
          },
          {
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "ssml",
            "id": "5a3504f2-9d5b-4e92-9a8c-a9f4935e7954"
          },
          {
            "id": "2665f3df-3ab3-46e6-9c03-98dfdf467a37",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "prompt"
          }
        ]
      },
      "aff7a396-3fef-4a21-87aa-a814a31f13f6": {
        "position": {
          "x": 3063,
          "y": 1069
        },
        "dynamicMetadata": {
          "key1": true,
          "value1": true
        },
        "useDynamic": false
      },
      "5a080220-4e67-4dc5-afb7-a3690d45a77a": {
        "position": {
          "x": 2349,
          "y": 1109
        },
        "conditionMetadata": [
          {
            "id": "f5a15368-30c8-429f-8d63-f26231e890d1",
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "true"
          }
        ]
      },
      "2a28b58d-af15-467f-91f0-4d35a6834c92": {
        "position": {
          "x": 2725.20458984375,
          "y": 1058.4500732421875
        },
        "conditionMetadata": [
          {
            "id": "80cfb137-031a-4489-81fc-eb333d4451cf",
            "value": "Yes"
          }
        ],
        "useDynamic": false,
        "dynamicMetadata": {
          "x-amz-lex:audio:end-timeout-ms:*": false,
          "x-amz-lex:audio:start-timeout-ms:*": false
        },
        "useLexBotDropdown": false,
        "useDynamicLexBotArn": true
      }
    }
  },
  "Actions": [
    {
      "Identifier": "a9166b13-a49c-4705-96f9-7baa66261fe4",
      "Parameters": {
        "SSML": "$.External.CurrentRule_offerMessage"
      },
      "Transitions": {
        "NextAction": "46677a44-efb2-48c1-b0de-b82264dd971b",
        "Errors": [],
        "Conditions": []
      },
      "Type": "MessageParticipant"
    },
    {
      "Identifier": "aa494261-d5f8-4cbb-b049-9ef30a79eb87",
      "Parameters": {
        "PromptId": "$.External.CurrentRule_offerMessagePromptArn"
      },
      "Transitions": {
        "NextAction": "46677a44-efb2-48c1-b0de-b82264dd971b",
        "Errors": [],
        "Conditions": []
      },
      "Type": "MessageParticipant"
    },
    {
      "Identifier": "3998f9c7-92ac-4b20-a524-d0b6e71c4a91",
      "Parameters": {
        "Text": "$.External.CurrentRule_offerMessage"
      },
      "Transitions": {
        "NextAction": "46677a44-efb2-48c1-b0de-b82264dd971b",
        "Errors": [],
        "Conditions": []
      },
      "Type": "MessageParticipant"
    },
    {
      "Identifier": "46677a44-efb2-48c1-b0de-b82264dd971b",
      "Parameters": {
        "SSML": "<speak></speak>",
        "LexSessionAttributes": {
          "x-amz-lex:audio:end-timeout-ms:*": "2000",
          "x-amz-lex:audio:start-timeout-ms:*": "10000"
        },
        "LexV2Bot": {
          "AliasArn": "$.External.CurrentRule_lexBotArn"
        }
      },
      "Transitions": {
        "NextAction": "5b9d2e54-d6c4-4b1c-8e56-4793463690a0",
        "Errors": [
          {
            "NextAction": "5b9d2e54-d6c4-4b1c-8e56-4793463690a0",
            "ErrorType": "NoMatchingError"
          },
          {
            "NextAction": "1da46932-c28d-4c63-a420-69c8d13cfe92",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": []
      },
      "Type": "ConnectParticipantWithLexBot"
    },
    {
      "Identifier": "6bd4703f-c553-4f1c-b8e8-3c83658c44ca",
      "Parameters": {
        "ComparisonValue": "$.External.CurrentRule_confirmationMessageType"
      },
      "Transitions": {
        "NextAction": "d336e0f6-fc46-432a-aaef-ad4b49f05f97",
        "Errors": [
          {
            "NextAction": "d336e0f6-fc46-432a-aaef-ad4b49f05f97",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": [
          {
            "NextAction": "d336e0f6-fc46-432a-aaef-ad4b49f05f97",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "text"
              ]
            }
          },
          {
            "NextAction": "9d619ea2-cf88-494d-b877-ae4b121d67e8",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "ssml"
              ]
            }
          },
          {
            "NextAction": "cb2bc8de-55d8-42df-b0b1-146775db2288",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "prompt"
              ]
            }
          }
        ]
      },
      "Type": "Compare"
    },
    {
      "Identifier": "d336e0f6-fc46-432a-aaef-ad4b49f05f97",
      "Parameters": {
        "Text": "$.External.CurrentRule_errorMessage"
      },
      "Transitions": {
        "NextAction": "98fef1c2-8869-4c9e-a914-f594ee974d80",
        "Errors": [
          {
            "NextAction": "98fef1c2-8869-4c9e-a914-f594ee974d80",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "MessageParticipant"
    },
    {
      "Identifier": "9d619ea2-cf88-494d-b877-ae4b121d67e8",
      "Parameters": {
        "SSML": "$.External.CurrentRule_errorMessage"
      },
      "Transitions": {
        "NextAction": "98fef1c2-8869-4c9e-a914-f594ee974d80",
        "Errors": [
          {
            "NextAction": "98fef1c2-8869-4c9e-a914-f594ee974d80",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "MessageParticipant"
    },
    {
      "Identifier": "cb2bc8de-55d8-42df-b0b1-146775db2288",
      "Parameters": {
        "PromptId": "$.External.CurrentRule_errorMessagePromptArn"
      },
      "Transitions": {
        "NextAction": "98fef1c2-8869-4c9e-a914-f594ee974d80",
        "Errors": [
          {
            "NextAction": "98fef1c2-8869-4c9e-a914-f594ee974d80",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "MessageParticipant"
    },
    {
      "Identifier": "170e37bd-6ca2-48ea-8abe-07b689a142dd",
      "Type": "DisconnectParticipant",
      "Parameters": {},
      "Transitions": {}
    },
    {
      "Identifier": "98fef1c2-8869-4c9e-a914-f594ee974d80",
      "Parameters": {
        "ComparisonValue": "$.External.CurrentRule_terminate"
      },
      "Transitions": {
        "NextAction": "ca7e8bcf-5d5b-48fc-aff8-6c4da5d39bb7",
        "Errors": [
          {
            "NextAction": "ca7e8bcf-5d5b-48fc-aff8-6c4da5d39bb7",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": [
          {
            "NextAction": "170e37bd-6ca2-48ea-8abe-07b689a142dd",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "true"
              ]
            }
          }
        ]
      },
      "Type": "Compare"
    },
    {
      "Identifier": "ca7e8bcf-5d5b-48fc-aff8-6c4da5d39bb7",
      "Parameters": {
        "ComparisonValue": "$.External.CurrentRule_done"
      },
      "Transitions": {
        "NextAction": "b1f189b3-b138-4cc1-9698-3a4226df878b",
        "Errors": [
          {
            "NextAction": "b1f189b3-b138-4cc1-9698-3a4226df878b",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": [
          {
            "NextAction": "47d9b95e-1a5a-4f5e-90d0-ec9d64b36ca2",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "true"
              ]
            }
          }
        ]
      },
      "Type": "Compare"
    },
    {
      "Identifier": "47d9b95e-1a5a-4f5e-90d0-ec9d64b36ca2",
      "Parameters": {
        "ContactFlowId": "{{contactFlows.RulesEngineMain.arn}}"
      },
      "Transitions": {
        "NextAction": "23d7065d-8800-4cb0-9a23-01d78ec07d60",
        "Errors": [
          {
            "NextAction": "23d7065d-8800-4cb0-9a23-01d78ec07d60",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "TransferToFlow"
    },
    {
      "Identifier": "23d7065d-8800-4cb0-9a23-01d78ec07d60",
      "Parameters": {
        "ContactFlowId": "{{contactFlows.RulesEngineError.arn}}"
      },
      "Transitions": {
        "NextAction": "bd579c28-84a0-4c57-96d6-8f84269a675f",
        "Errors": [
          {
            "NextAction": "bd579c28-84a0-4c57-96d6-8f84269a675f",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "TransferToFlow"
    },
    {
      "Identifier": "bd579c28-84a0-4c57-96d6-8f84269a675f",
      "Type": "DisconnectParticipant",
      "Parameters": {},
      "Transitions": {}
    },
    {
      "Identifier": "5b9d2e54-d6c4-4b1c-8e56-4793463690a0",
      "Parameters": {
        "LambdaFunctionARN": "{{lambdaFunctions.connectnlumenu.arn}}",
        "InvocationTimeLimitSeconds": "3",
        "LambdaInvocationAttributes": {
          "matchedIntent": "NOMATCH"
        }
      },
      "Transitions": {
        "NextAction": "6e185ad4-af56-4267-8b21-1f90f35c3dda",
        "Errors": [
          {
            "NextAction": "51760e39-09ec-427d-bc4c-be6972a21433",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "InvokeLambdaFunction"
    },
    {
      "Identifier": "1da46932-c28d-4c63-a420-69c8d13cfe92",
      "Parameters": {
        "LambdaFunctionARN": "{{lambdaFunctions.connectnlumenu.arn}}",
        "InvocationTimeLimitSeconds": "7",
        "LambdaInvocationAttributes": {
          "intentConfidence": "$.Lex.IntentConfidence.Score",
          "matchedIntent": "$.Lex.IntentName"
        }
      },
      "Transitions": {
        "NextAction": "6e185ad4-af56-4267-8b21-1f90f35c3dda",
        "Errors": [
          {
            "NextAction": "51760e39-09ec-427d-bc4c-be6972a21433",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "InvokeLambdaFunction"
    },
    {
      "Identifier": "51760e39-09ec-427d-bc4c-be6972a21433",
      "Parameters": {
        "ContactFlowId": "{{contactFlows.RulesEngineError.arn}}"
      },
      "Transitions": {
        "NextAction": "3ea180fb-b40a-4968-bb71-787b7bf9bf6f",
        "Errors": [
          {
            "NextAction": "3ea180fb-b40a-4968-bb71-787b7bf9bf6f",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "TransferToFlow"
    },
    {
      "Identifier": "3ea180fb-b40a-4968-bb71-787b7bf9bf6f",
      "Type": "DisconnectParticipant",
      "Parameters": {},
      "Transitions": {}
    },
    {
      "Identifier": "6e185ad4-af56-4267-8b21-1f90f35c3dda",
      "Parameters": {
        "ComparisonValue": "$.External.CurrentRule_validInput"
      },
      "Transitions": {
        "NextAction": "854aff21-0344-45e3-b9e5-d03af3a2ec3e",
        "Errors": [
          {
            "NextAction": "854aff21-0344-45e3-b9e5-d03af3a2ec3e",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": [
          {
            "NextAction": "6bd4703f-c553-4f1c-b8e8-3c83658c44ca",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "false"
              ]
            }
          }
        ]
      },
      "Type": "Compare"
    },
    {
      "Identifier": "c677b244-a7c6-4705-b0d1-737790fa9c3b",
      "Parameters": {
        "Text": "$.External.CurrentRule_confirmationMessageFinal"
      },
      "Transitions": {
        "NextAction": "5a080220-4e67-4dc5-afb7-a3690d45a77a",
        "Errors": [
          {
            "NextAction": "5a080220-4e67-4dc5-afb7-a3690d45a77a",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "MessageParticipant"
    },
    {
      "Identifier": "108bec88-2e27-4691-a64b-ece9696c70d4",
      "Parameters": {
        "SSML": "$.External.CurrentRule_confirmationMessageFinal"
      },
      "Transitions": {
        "NextAction": "5a080220-4e67-4dc5-afb7-a3690d45a77a",
        "Errors": [
          {
            "NextAction": "5a080220-4e67-4dc5-afb7-a3690d45a77a",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "MessageParticipant"
    },
    {
      "Identifier": "854aff21-0344-45e3-b9e5-d03af3a2ec3e",
      "Parameters": {
        "ComparisonValue": "$.External.CurrentRule_confirmationMessageFinalType"
      },
      "Transitions": {
        "NextAction": "5a080220-4e67-4dc5-afb7-a3690d45a77a",
        "Errors": [
          {
            "NextAction": "5a080220-4e67-4dc5-afb7-a3690d45a77a",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": [
          {
            "NextAction": "c677b244-a7c6-4705-b0d1-737790fa9c3b",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "text"
              ]
            }
          },
          {
            "NextAction": "108bec88-2e27-4691-a64b-ece9696c70d4",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "ssml"
              ]
            }
          }
        ]
      },
      "Type": "Compare"
    },
    {
      "Identifier": "3863d146-354c-4046-bfe5-d883f2ae282a",
      "Parameters": {
        "ContactFlowId": "{{contactFlows.RulesEngineMain.arn}}"
      },
      "Transitions": {
        "NextAction": "d8607387-0f89-4150-9781-5f68096e73f6",
        "Errors": [
          {
            "NextAction": "d8607387-0f89-4150-9781-5f68096e73f6",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "TransferToFlow"
    },
    {
      "Identifier": "d8607387-0f89-4150-9781-5f68096e73f6",
      "Parameters": {
        "ContactFlowId": "{{contactFlows.RulesEngineError.arn}}"
      },
      "Transitions": {
        "NextAction": "7b777776-a8ea-4160-be98-871e38789663",
        "Errors": [
          {
            "NextAction": "7b777776-a8ea-4160-be98-871e38789663",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "TransferToFlow"
    },
    {
      "Identifier": "7b777776-a8ea-4160-be98-871e38789663",
      "Type": "DisconnectParticipant",
      "Parameters": {},
      "Transitions": {}
    },
    {
      "Identifier": "bd08e6a0-e8fc-462b-a5a5-4c3813169ad4",
      "Type": "DisconnectParticipant",
      "Parameters": {},
      "Transitions": {}
    },
    {
      "Identifier": "4c59a722-d301-49c5-8c4d-2f9fc4b9558d",
      "Parameters": {
        "ContactFlowId": "{{contactFlows.RulesEngineMain.arn}}"
      },
      "Transitions": {
        "NextAction": "96d74cf8-be0a-4c0d-ae90-94146f184640",
        "Errors": [
          {
            "NextAction": "96d74cf8-be0a-4c0d-ae90-94146f184640",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "TransferToFlow"
    },
    {
      "Identifier": "96d74cf8-be0a-4c0d-ae90-94146f184640",
      "Parameters": {
        "ContactFlowId": "{{contactFlows.RulesEngineError.arn}}"
      },
      "Transitions": {
        "NextAction": "bd08e6a0-e8fc-462b-a5a5-4c3813169ad4",
        "Errors": [
          {
            "NextAction": "bd08e6a0-e8fc-462b-a5a5-4c3813169ad4",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "TransferToFlow"
    },
    {
      "Identifier": "b1f189b3-b138-4cc1-9698-3a4226df878b",
      "Parameters": {
        "ComparisonValue": "$.External.CurrentRule_offerMessageType"
      },
      "Transitions": {
        "NextAction": "3998f9c7-92ac-4b20-a524-d0b6e71c4a91",
        "Errors": [
          {
            "NextAction": "3998f9c7-92ac-4b20-a524-d0b6e71c4a91",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": [
          {
            "NextAction": "3998f9c7-92ac-4b20-a524-d0b6e71c4a91",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "text"
              ]
            }
          },
          {
            "NextAction": "a9166b13-a49c-4705-96f9-7baa66261fe4",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "ssml"
              ]
            }
          },
          {
            "NextAction": "aa494261-d5f8-4cbb-b049-9ef30a79eb87",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "prompt"
              ]
            }
          }
        ]
      },
      "Type": "Compare"
    },
    {
      "Identifier": "aff7a396-3fef-4a21-87aa-a814a31f13f6",
      "Parameters": {
        "LambdaFunctionARN": "{{lambdaFunctions.connectupdatestate.arn}}",
        "InvocationTimeLimitSeconds": "7",
        "LambdaInvocationAttributes": {
          "key1": "$.External.CurrentRule_outputStateKey",
          "value1": "$.External.CurrentRule_matchedIntent"
        }
      },
      "Transitions": {
        "NextAction": "4c59a722-d301-49c5-8c4d-2f9fc4b9558d",
        "Errors": [
          {
            "NextAction": "96d74cf8-be0a-4c0d-ae90-94146f184640",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": []
      },
      "Type": "InvokeLambdaFunction"
    },
    {
      "Identifier": "5a080220-4e67-4dc5-afb7-a3690d45a77a",
      "Parameters": {
        "ComparisonValue": "$.External.CurrentRule_autoConfirmNow"
      },
      "Transitions": {
        "NextAction": "2a28b58d-af15-467f-91f0-4d35a6834c92",
        "Errors": [
          {
            "NextAction": "2a28b58d-af15-467f-91f0-4d35a6834c92",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": [
          {
            "NextAction": "3863d146-354c-4046-bfe5-d883f2ae282a",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "true"
              ]
            }
          }
        ]
      },
      "Type": "Compare"
    },
    {
      "Identifier": "2a28b58d-af15-467f-91f0-4d35a6834c92",
      "Parameters": {
        "SSML": "<speak></speak>",
        "LexSessionAttributes": {
          "x-amz-lex:audio:end-timeout-ms:*": "2000",
          "x-amz-lex:audio:start-timeout-ms:*": "10000"
        },
        "LexV2Bot": {
          "AliasArn": "$.External.CurrentRule_yesNoBotArn"
        }
      },
      "Transitions": {
        "NextAction": "b1f189b3-b138-4cc1-9698-3a4226df878b",
        "Errors": [
          {
            "NextAction": "b1f189b3-b138-4cc1-9698-3a4226df878b",
            "ErrorType": "NoMatchingError"
          },
          {
            "NextAction": "b1f189b3-b138-4cc1-9698-3a4226df878b",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": [
          {
            "NextAction": "aff7a396-3fef-4a21-87aa-a814a31f13f6",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "Yes"
              ]
            }
          }
        ]
      },
      "Type": "ConnectParticipantWithLexBot"
    }
  ]
}
